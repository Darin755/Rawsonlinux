#!/bin/bash
echo installing packages
sudo apt install cheese wmctrl xfce4 xfce4-goodies lightdm variety gnome-screensaver virtualenv supertuxkart cmatrix cowsay xcowsay fortune vlc xfdashboard ubuntu-software clamtk clamav clamav-daemon libreoffice firefox update-notifier thunderbird gnome-disk-utility virtualenv espeak python3 python3-pip policykit-1-gnome gnome-screensaver libasound-dev portaudio19-dev libportaudio2 libportaudiocpp0

echo setting up tmp

tmp=/tmp/Rinstall

mkdir $tmp

echo copying files to tmp...
cp -r -f * $tmp
cd $tmp
echo setting up $HOME

cp -r -f $tmp/install-files/.config $HOME/.config 

echo creating default user
sudo cp -r -f $tmp/install-files/.config /etc/skel/
sudo cp -r -f $tmp/install-files/.bashrc /etc/skel/
sudo cp -r -f /etc/skel/* /usr/share/lightdm/guest-session/skel

chmod +x $tmp/RawsonlinuxScripts/*
sudo cp -f -r $tmp/RawsonlinuxScripts/* /usr/bin
cd
echo configuring lightdm
sudo cp -r -f $tmp/install-files/lightdm.conf.d /usr/share/lightdm/lightdm.conf.d

echo installing Jarvis

cd /usr/share
sudo rm -r -f Jarvis
sudo git clone https://github.com/sukeesh/Jarvis.git
cd Jarvis
echo running Jarvis installer..
sudo python3 installer
sudo chmod -R ugo+rwx /usr/share/Jarvis/jarviscli/packages/memory
sudo chmod -R ugo+rwx /usr/share/Jarvis/custom


echo cleaning up...
sudo rm -r -f $tmp
cd $PWD 

